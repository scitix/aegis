registry: registry-ap-southeast.scitix.ai

cluster: example-cluster
region: ""
orgname: ""

ingress:
  enabled: false
  host: api.example.com
  path: /example

aegis:
  image:
    repository: k8s/aegis
    tag: v3.0.0-6c7698e

  replicas: 2

  alert:
    publishNamespace: monitoring
    ttlAfterSucceed: 86400
    ttlAfterFailed: 259200
    ttlAfterNoOps: 86400

  healthcheck:
    enable: true

  diagnosis:
    enable: true
    explain: true
    cache: true
    language: chinese
    collector:
      repository: k8s/aegis-collector
      tag: v1.0.1
    podLog:
      # fetchLines: number of log lines to retrieve per container (0 = default 1000)
      fetchLines: 0
      # keywords: case-insensitive substrings to filter log lines (empty = no filtering)
      keywords: []
      # maxOutputLines: max lines forwarded to LLM (0 = default 60)
      maxOutputLines: 0

  deviceAware:
    enable: false

  nodePoller:
    enable: true
    priorityConfigmap: aegis-priority
    priorityNamespace: monitoring

  # Tolerations for the aegis pod.
  # Example:
  # tolerations:
  # - key: node-role.kubernetes.io/control-plane
  #   effect: NoSchedule
  #   operator: Exists
  tolerations:
  - key: node-role.kubernetes.io/control-plane
    effect: NoSchedule
    operator: Exists

  # Node selector for the aegis pod.
  # Example:
  # nodeSelector:
  #   node-role.kubernetes.io/control-plane: ""
  nodeSelector: {}

  # Affinity rules for the aegis pod.
  # The podAntiAffinity below prevents two aegis pods from landing on the
  # same topology key and is kept as the default.
  # Override the entire block to customise scheduling.
  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
      - labelSelector:
          matchExpressions:
          - key: component
            operator: In
            values:
            - aegis
        topologyKey: kubernetes.io/hostname

prometheus:
  endpoint:
  token:

selfhealing:
  enable: false

  image:
    repository: k8s/aegis-selfhealing
    tag: ""

  opsImage:
    repository: k8s/aegis
    tag: ""

  level: 0
  hostNetwork: false
  dnsPolicy: ClusterFirst

  # Per-hardware-type feature flags; controls which conditions are written into aegis-priority ConfigMap.
  baseboard: true
  node: true
  system: true
  cpu: true
  memory: true
  disk: true
  network: true
  gpu: true
  ib: true
  roce: true
  gpfs: true

  # Comma-separated taint keys to check before self-healing; matching nodes are cordoned and taints removed.
  precheckTaints: "scitix.ai/nodecheck"

  pluginSelector:
    gpu: nvidia-device-plugin-ds
    roce: sriovdp
    rdma: rdma-shared-dp-ds

  ticket:
    enabled: true
    type: ""
    endpoint: ""
    appid: ""
    token: ""
    ranstr: ""

  sre:
    default: ""
    hardware: ""
    nonhardware: ""

ai:
  enabled: false
  provider: openai
  model:
  password:
  baseUrl:
  temperature: 0.7
  topp: 0.5
  topk: 50
  maxtokens: 32768
