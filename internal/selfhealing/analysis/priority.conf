# 格式：Condition:Priority:AffectsLoad:DeviceIDMode
#
# Priority   : 数值越小优先级越高；0=NodeNotReady, 1=NodeCordon, ≤99=Emergency, ≤999=CanIgnore
# AffectsLoad: true=影响节点可用负载（调度器/外部系统可感知），false=仅监控/告警
# DeviceIDMode:
#   all   — 忽略 ID，将该类型全部设备标记为故障
#   index — status.ID 为整数索引（0-7），标记对应编号的设备（GPU 专用）
#   mask  — status.ID 为位串（如 "10100000"），按位标记各设备（GpuCheckFailed 专用）
#   id    — status.ID 为设备标识符字符串（卡名、挂载路径等）
#   -     — 不标记任何设备（节点级条件或明确忽略）

# ── Node ──────────────────────────────────────────────────────────────────────
NodeNotReady:0:true:-
NodeInhibitAll:0:true:-
NodeCordon:1:true:-
NodeFrequentDown:8:true:-
KubeletFailedCreatePodContainer:50:true:-
NodeHasTerminatingPod:50:false:-
NodeHasRestarted:100:false:-

# ── System Resource ───────────────────────────────────────────────────────────
CPUPressure:50:true:-
CpuUnhealthy:99:true:id
KubeletMemoryPressure:90:true:-
MemoryPressure:99:true:-
MemoryUnhealthy:99:true:id
DiskPressure:99:true:id
DiskUnhealthy:99:true:id

# ── Network ───────────────────────────────────────────────────────────────────
NetworkLinkDown:50:true:id

# ── Baseboard ─────────────────────────────────────────────────────────────────
BaseBoardCriticalIssue:99:true:id

# ── GPU ───────────────────────────────────────────────────────────────────────
GpuHung:3:true:all
GpuCheckFailed:3:true:mask
GpuErrResetRequired:50:true:all
GpuNvlinkInactive:3:true:index
GpuNvlinkError:3:true:index
Xid74NVLinkError:2:true:index
Xid79GPULost:2:true:index
Xid64ECCRowremapperFailure:9:true:index
Xid95UncontainedECCError:9:true:index
GpuTooManyPageRetired:8:true:index
GpuAggSramUncorrectable:8:true:index
GpuVolSramUncorrectable:9:true:index
NvidiaFabricManagerNotActive:2:true:all
GpuPersistenceModeNotEnabled:3:true:-
GpuSmClkSlowDown:51:false:index
GpuPcieLinkDegraded:51:false:index
GpuHWSlowdown:99:false:index
HighGpuTemp:100:false:-
HighGpuMemoryTemp:100:false:-
Xid48GPUMemoryDBE:9:false:-
Xid63ECCRowremapperPending:9:false:-
GpuRowRemappingPending:9:false:-
GpuRowRemappingFailure:8:false:-
GpuRegisterFailed:50:false:-
GpuMetricsHang:99:false:-

# ── IB ────────────────────────────────────────────────────────────────────────
IBLost:3:true:all
IBModuleLost:10:true:all
IBNetDriverFailedLoad:10:true:id
IBPCIeMRRNotAlign:10:true:id
IBLinkAbnormal:10:true:id
IBProtoclAbnormal:10:true:id
IBPortSpeedAbnormal:10:false:id
IBPCIeSpeedAbnormal:10:false:id
IBPCIeWidthAbnormal:10:false:id
IBLinkFrequentDown:50:false:id
IBRegisterFailed:50:false:-

# ── RoCE ──────────────────────────────────────────────────────────────────────
RoceDeviceBroken:4:true:all
RoceHostOffline:51:true:all
RoceHostGatewayNotMatch:51:true:all
RoceHostRouteMiss:51:true:all
RocePodOffline:51:true:all
RocePodGatewayNotMatch:51:true:all
RoceNodeLabelMiss:51:true:all
RoceVfDeviceMiss:51:true:id
RoceNodeResourceMiss:51:true:id
RoceSriovInitError:51:true:id
RoceNodeUnitLabelMiss:51:true:all
RoceNodePfNamesLabelMiss:51:true:all
RoceNodeResourceLabelMiss:51:true:all
RoceNodeNetworkLabelMiss:51:true:all
RoceRegisterFailed:50:false:id

# ── GPFS ──────────────────────────────────────────────────────────────────────
GpfsDown:2:true:all
GpfsInactive:9:true:all
GpfsMountLost:10:true:id
GpfsThreadDeadlock:100:false:-
GpfsTestFailed:50:true:all
GpfsIBNotConfig:51:true:all
GpfsRdmaError:49:true:all
GpfsNodeNotHealthy:49:true:all
GpfsNotMounted:49:true:all
GpfsNotStarted:49:true:all
GpfsNotInCluster:49:true:all
GpfsNotInstalled:49:true:all
